<div class="card mb-3">
  <div class="card-body">
    <h2 class="h5 mb-1"><%= bookmark.title %></h2>
    <a href="<%= bookmark.url %>" class="text-truncate d-block mb-2 small text-secondary" target="_blank">
      <%= bookmark.url %>
      <%= external_link_icon %>
    </a>
    
    <% if bookmark.description.present? %>
      <div class="mb-3">
        <p class="mb-2"><%= bookmark.description %></p>
        <small class="text-muted">
          AI生成: <%= l bookmark.ai_processed_at, format: :short if bookmark.ai_processed_at %>
        </small>
      </div>
    <% elsif bookmark.processing? %>
      <div class="mb-3">
        <div class="d-flex align-items-center text-muted">
          <div class="spinner-border spinner-border-sm me-2"></div>
          AI概要を生成中...
        </div>
      </div>
    <% elsif bookmark.failed? %>
      <div class="mb-3">
        <div class="text-danger">
          <small>AI概要の生成に失敗しました</small>
        </div>
      </div>
    <% end %>
    
    <% if bookmark.tags.present? %>
      <div class="mb-2">
        <% bookmark.tags.each do |tag| %>
          <%= link_to tag, bookmarks_path(tag: tag), class: "badge bg-light text-dark text-decoration-none me-1" %>
        <% end %>
      </div>
    <% end %>
    
    <div class="d-flex justify-content-end">
      <%= link_to "編集", edit_bookmark_path(bookmark), class: "btn btn-sm btn-outline-secondary me-2" %>
      <%= link_to "削除", bookmark_path(bookmark), 
          data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
          class: "btn btn-sm btn-outline-danger" %>
    </div>
  </div>
</div> 